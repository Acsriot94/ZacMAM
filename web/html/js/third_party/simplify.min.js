(function(){function e(i,h){var g=i.x-h.x,f=i.y-h.y;return g*g+f*f}function d(k,l,j){var f=l.x,m=l.y,h=j.x-f,g=j.y-m;if(h!==0||g!==0){var i=((k.x-f)*h+(k.y-m)*g)/(h*h+g*g);if(i>1){f=j.x;m=j.y}else{if(i>0){f+=h*i;m+=g*i}}}h=k.x-f;g=k.y-m;return h*h+g*g}function b(l,j){var h=l[0],m=[h],g;for(var k=1,f=l.length;k<f;k++){g=l[k];if(e(g,h)>j){m.push(g);h=g}}if(h!==g){m.push(g)}return m}function a(r,f){var n=r.length,p=typeof Uint8Array!=="undefined"?Uint8Array:Array,g=new p(n),l=0,q=n-1,o=[],s=[],j,h,k,m;g[l]=g[q]=1;while(q){h=0;for(j=l+1;j<q;j++){k=d(r[j],r[l],r[q]);if(k>h){m=j;h=k}}if(h>f){g[m]=1;o.push(l,m,m,q)}q=o.pop();l=o.pop()}for(j=0;j<n;j++){if(g[j]){s.push(r[j])}}return s}function c(h,f,i){var g=f!==undefined?f*f:1;h=i?h:b(h,g);h=a(h,g);return h}if(typeof define==="function"&&define.amd){define(function(){return c})}else{if(typeof module!=="undefined"){module.exports=c}else{window.simplify=c}}})();